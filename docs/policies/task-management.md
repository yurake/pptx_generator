# タスク管理方針

## 背景
- PR ごとの作業内容が増え、口頭共有だけでは進捗の可視化が難しくなった。
- 過去の対応履歴を追いやすくし、レビュー時に抜け漏れを防ぐ必要がある。

## 方針
- タスクを計画した段階で `docs/todo/` 配下に ToDo ファイルを作成し、作業ごとの進捗ログを残す。
- ファイル名は `YYYYMMDD-<slug>.md` とし、日付と作業内容が一目で分かるようにする。
- タスクはチェックボックス形式で記述し、「誰が何をどこまで行うか」が分かる粒度で記載する。
- メモ欄は判断材料やリスクなどタスク本文に収まりきらない補足に限定し、進捗更新はチェックボックス側で行う。
- 完了後も PR から参照できるようにし、継続的なナレッジとして `docs/todo/archive/` に保管する。

## 新規タスク開始前チェック
- アクティブな ToDo に未完了項目が残っていないか
- 直近で完了したタスクがアーカイブおよびロードマップに反映されているか
- PR やノートなどの参照リンクが最新化されているか

## 着手前の準備
1. `git status` がクリーンであることを確認する。
2. 作業内容に対応した ToDo と関連メモを確認し、未作成なら先に用意する。
3. 新しいブランチを `feat/<テーマ名>` などで作成し、ブランチ名を ToDo の `関連ブランチ` に記載する。
4. ブランチ作成後に作業を開始し、途中で main ブランチ上に直接コミットを作らない。

## PR 作成手順
1. PR 作成時は `gh pr create --fill`（または `--template`）を利用し、`.github/pull_request_template.md` を必ず反映させる。
2. テンプレート展開後に追記が必要な項目のみ手動で修正する。`--body` オプションで新規本文を指定しない。
3. ToDo やノートのリンク、コマンドログはテンプレートのチェックリストに沿って記載する。
4. スクリーンショットや PDF などの成果物がある場合は、テンプレートの動作確認欄に添付先を記入する。

## 完了手順
1. PR マージ後、該当 ToDo のチェックをすべて完了にし、必要なメモ（PR 番号・日付など）を追記する。
2. 完了した ToDo を `docs/todo/archive/` 配下へ移動し、ロードマップの対象項目を「完了テーマ」に移す。
3. ローカルとリモート両方の作業ブランチを削除し、`git status` がクリーンであることを確認する。

## 運用開始手順
1. `docs/todo/` と `docs/todo/archive/` をリポジトリに用意する（既に作成済み）。
2. 作業開始時にテンプレートを参考に ToDo ファイルを新規作成する。
3. レビューや定例で進捗を確認し、必要に応じて項目を見直す。
4. 作業完了後は最終版をコミットし、アーカイブへ移動する。

## テンプレート例
```
---
目的: <作業のゴール>
担当者: <担当者名>
関連ブランチ: <branch-name>
期限: YYYY-MM-DD
---

- [ ] タスク 1
  - メモ: 必要に応じて補足
- [ ] タスク 2
```
