---
目的: パイプラインの主要機能を拡張し、生成結果と診断品質を向上させる
担当者: Codex
関連ブランチ: feat/pipeline-enhancements
期限: 2025-10-18
関連Issue: 未設定
---

- [x] 入力スキーマに表・グラフ情報を追加し、`JobSpec` モデルとサンプル JSON を拡張する
  - メモ: 2025-10-05 `slides[].tables` / `slides[].charts` を追加し、サンプルとテスト (`tests/test_models.py`) で検証
- [x] 自動診断ステップの実装を拡充し、analysis.json に issue と fix を出力できるようにする
  - メモ: 2025-10-05 余白逸脱・フォントサイズ下限・コントラスト不足・箇条書きレベル超過を検出し、各修正案を付与
- [ ] レンダラーに表・画像・グラフの描画処理を追加し、ブランド設定からスタイルを適用する
  - メモ: `config/branding.json` の情報をすべて参照し、デフォルト値にフォールバック
- [x] `uv run --extra dev pytest` を用いた CLI 統合テストを追加し、主要パラメータの挙動を検証する
  - メモ: 2025-10-05 `tests/test_cli_integration.py` で `--workdir` / `--template` をカバー
- [x] ルール／ブランド設定のローディングに対するユニットテストを追加し、破壊的変更を検知する
  - メモ: 2025-10-05 新規 ToDo `docs/todo/20251005-rules-branding-tests.md` で具体化
- [ ] README と関連ドキュメントの使い方セクションを更新し、新機能とテストコマンドを明記する
  - メモ: 生成サンプルのスクリーンショットや analysis.json のサンプルを追記

## メモ
- 自動診断とレンダリング拡張を並行作業する場合は JSON スキーマ追加の影響範囲を先に整理する
- テスト追加後は CLI 出力ログの体裁が変わらないか確認する
